# Parte de consultas SQL para JUGADORES
# Consultar la existencia de un jugador en la BD usando el correo
consultaExistenciaPorCorreo=SELECT cuentaActiva FROM Jugador WHERE correo = ?

#Consulta para buscar un jugador por ID
buscarJugadorPorId=SELECT idJugador, nombreApellidos, fechaNacimiento, fechaInscripcion, correo, cuentaActiva FROM Jugador WHERE idJugador = ?

# Consulta para buscar un jugador por correo y crear un objeto de tipo JugadorDTO
buscarJugadorPorCorreo=SELECT idJugador, nombreApellidos, fechaNacimiento, correo, cuentaActiva FROM Jugador WHERE correo = ?

buscarJugadorInscritoPorCorreo=SELECT idJugador, nombreApellidos, fechaNacimiento, fechaInscripcion, correo, cuentaActiva FROM Jugador WHERE correo = ?

# Reactivar la cuenta de un jugador
reactivarCuenta=UPDATE Jugador SET nombreApellidos = ?, fechaNacimiento = ?, fechaInscripcion = ?, cuentaActiva = 1 WHERE correo = ?

# Insertar un jugador en la BD
altaJugador=INSERT INTO Jugador (nombreApellidos, fechaNacimiento, fechaInscripcion, correo, cuentaActiva) VALUES (?, ?, ?, ?, ?)

# Desactivar la cuenta de un jugador
desactivarCuenta=UPDATE Jugador SET cuentaActiva = 0 WHERE correo = ?

# Verificar que el correo introducido no estÃ© en uso por otro jugador
verificarCorreo=SELECT idJugador FROM Jugador WHERE correo = ? AND correo != ?

# Actualizar la informaciÃ³n de un jugador
actualizarInfo=UPDATE Jugador SET nombreApellidos = ?, fechaNacimiento = ?, correo = ? WHERE correo = ?

# Listar jugadores activos
listarJugadoresActivos=SELECT * FROM Jugador WHERE cuentaActiva = 1

#Actualizar fecha de inscripcion
actualizarFechaInscripcion=UPDATE Jugador SET fechaInscripcion = ? WHERE correo = ?



#Parte de consultas SQL para PISTAS
# Crear pista
crearPista=INSERT INTO Pista (nombre, disponible, exterior, tamanoPista, maxJugadores) VALUES (?, ?, ?, ?, ?)

# Crear material
crearMaterial=INSERT INTO Material (idMaterial, tipo, usoExterior, estado) VALUES (?, ?, ?, ?)

# Asociar material y pista por id especifico
asociarMaterialAPista=UPDATE Material SET idPista = ? WHERE idMaterial = ?

# Buscar pista por nombre especifico
buscarPistaPorNombre=SELECT * FROM Pista WHERE nombre = ?

# Buscar material por id especifico
buscarMaterialPorId=SELECT * FROM Material WHERE idMaterial = ?

# Listar pistas disponibles
listarPistasDisponibles=SELECT p.*, m.idMaterial, m.tipo, m.usoExterior, m.estado FROM Pista p LEFT JOIN Material m ON p.idPista = m.idPista WHERE p.disponible = true AND (p.tamanoPista = ? OR p.tamanoPista = ?)

# Listar pistas no disponibles
listarPistasNoDisponibles=SELECT p.*, m.idMaterial, m.tipo, m.usoExterior, m.estado FROM Pista p LEFT JOIN Material m ON p.idPista = m.idPista WHERE p.disponible = false

# Buscar pistas disponibles segï¿½n el nï¿½mero de jugadores y tipo de pista
buscarPistasDisponibles=SELECT p.idPista, p.nombre, p.disponible, p.exterior, p.tamanoPista, p.maxJugadores, m.idMaterial, m.tipo AS tipoMaterial, m.usoExterior, m.estado FROM Pista p LEFT JOIN Material m ON p.idPista = m.idPista WHERE p.disponible = true AND p.maxJugadores >= ? AND p.tamanoPista = ?

# Listar todas las pistas con sus detalles.
listarPistas=SELECT * FROM Pistas;

# Buscar pista por id especifico
buscarPistaPorId=SELECT * FROM Pista WHERE idPista = ?




# Parte de consultas SQL para RESERVAS
# Consulta para eliminar una reserva específica infantil
eliminarReservaInfantil=DELETE FROM ReservaInfantil WHERE idReserva = ?

# Consulta para eliminar una reserva específica familiar
eliminarReservaFamiliar=DELETE FROM ReservaFamiliar WHERE idReserva = ?

# Consulta para eliminar una reserva específica adulto
eliminarReservaAdulto=DELETE FROM ReservaAdulto WHERE idReserva = ?

# Actualizar reserva en tabla principal
actualizarReserva=UPDATE Reserva SET fechaHora = ?, duracionMin = ?, precio = ?, descuento = ?, idPista = ? WHERE idReserva = ?

# Actualizar reserva infantil
actualizarReservaInfantil=UPDATE ReservaInfantil SET numNinos = ? WHERE idReserva = ?

# Actualizar reserva familiar
actualizarReservaFamiliar=UPDATE ReservaFamiliar SET numAdultos = ?, numNinos = ? WHERE idReserva = ?

# Actualizar reserva adulto
actualizarReservaAdulto=UPDATE ReservaAdulto SET numAdultos = ? WHERE idReserva = ?

# Insertar una nueva reserva en la tabla Reserva
insertarReserva=INSERT INTO Reserva (idJugador, idPista, fechaHora, duracionMin, precio, descuento, idBono) VALUES (?, ?, ?, ?, ?, ?, ?)

# Insertar datos especï¿½ficos de reserva familiar en la tabla ReservaFamiliar
insertarReservaFamiliar=INSERT INTO ReservaFamiliar (idReserva, numAdultos, numNinos) VALUES (?, ?, ?)

# Insertar datos especï¿½ficos de reserva adulto en la tabla ReservaAdulto
insertarReservaAdulto=INSERT INTO ReservaAdulto (idReserva, numAdultos) VALUES (?, ?)

# Insertar datos especï¿½ficos de reserva infantil en la tabla ReservaInfantil
insertarReservaInfantil=INSERT INTO ReservaInfantil (idReserva, numNinos) VALUES (?, ?)

# Consultar un bono especï¿½fico en la tabla Bono
obtenerBono=SELECT idJugador, numeroSesion, fechaCaducidad FROM Bono WHERE idBono = ?

# Insertar un nuevo bono en la tabla Bono
insertarBono=INSERT INTO Bono  (idJugador, numeroSesion, fechaCaducidad) VALUES (?, ?, ?)

# Actualizar la sesión del bono, incrementando el número de sesiones utilizadas
actualizarSesionesBono=UPDATE Bono SET numeroSesion = numeroSesion + 1 WHERE idBono = ? AND numeroSesion < 5

# Actualizar la sesión del bono, decrementando el número de sesiones utilizadas
actualizarSesionesBonoDecrementar=UPDATE Bono SET numeroSesion = numeroSesion - 1 WHERE idBono = ? AND numeroSesion > 0

# Eliminar una reserva especï¿½fica de la tabla Reserva
eliminarReserva=DELETE FROM Reserva WHERE idReserva = ?

# Consulta general para encontrar una reserva en la tabla Reserva
# Consulta para encontrar una reserva por idJugador, idPista y fechaHora
encontrarReserva=SELECT r.idReserva, r.idJugador, r.idPista, r.fechaHora, r.duracionMin, r.precio, r.descuento, r.idBono, b.numeroSesion FROM Reserva r LEFT JOIN Bono b ON r.idBono = b.idBono WHERE r.idJugador = ? AND r.idPista = ? AND r.fechaHora = ?

# Consultar datos especï¿½ficos de una reserva familiar en la tabla ReservaFamiliar
buscarReservaFamiliar=SELECT numAdultos, numNinos FROM ReservaFamiliar WHERE idReserva = ?

# Consultar datos especï¿½ficos de una reserva adulto en la tabla ReservaAdulto
buscarReservaAdulto=SELECT numAdultos FROM ReservaAdulto WHERE idReserva = ?

# Consultar datos especï¿½ficos de una reserva infantil en la tabla ReservaInfantil
buscarReservaInfantil=SELECT numNinos FROM ReservaInfantil WHERE idReserva = ?

# Consultar todas las reservas futuras en la tabla Reserva
consultarReservasFuturas=SELECT r.idReserva, r.idJugador, r.idPista, r.fechaHora, r.duracionMin, r.precio, r.descuento, r.idBono, b.numeroSesion FROM Reserva r LEFT JOIN Bono b ON r.idBono = b.idBono WHERE r.fechaHora >= ?

# Consultar reservas por dï¿½a especï¿½fico y pista en la tabla Reserva
consultarReservasPorRangoDeFechasYPista=SELECT r.*, b.numeroSesion FROM Reserva r LEFT JOIN Bono b ON r.idBono = b.idBono WHERE r.fechaHora BETWEEN ? AND ? AND r.idPista = ?

#Consulta para obtener un bono asociado a un jugador
obtenerBonoPorJugador=SELECT idBono, numeroSesion, fechaCaducidad FROM Bono WHERE idJugador = ? ORDER BY fechaCaducidad DESC LIMIT 1

#Consulta para buscar reserva por id
buscarReservaPorId=SELECT idReserva, idJugador, fechaHora, duracionMin, idPista FROM Reserva WHERE idReserva = ?

#Consulta para buscar reserva por id y por idbono
encontrarReservaPorIdBono=SELECT * FROM Reserva WHERE idJugador = ? AND idBono = ?




